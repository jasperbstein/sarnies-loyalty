"use strict";exports.id=4810,exports.ids=[4810],exports.modules={36143:(e,t,s)=>{s.d(t,{Z:()=>p});var a=s(10326),r=s(35047),i=s(16205);let n=(0,s(76557).Z)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);var l=s(24061),d=s(98908),o=s(52679),c=s(95964),h=s(94019),m=s(90748),x=s(71810),g=s(17577);function p({children:e}){let t=(0,r.useRouter)(),s=(0,r.usePathname)(),{user:p,logout:u}=(0,i.t)(),[y,b]=(0,g.useState)(!1),f=[{icon:n,label:"Dashboard",path:"/admin/dashboard"},{icon:l.Z,label:"Users",path:"/admin/users"},{icon:d.Z,label:"Vouchers",path:"/admin/vouchers"},{icon:o.Z,label:"Announcements",path:"/admin/announcements"},{icon:c.Z,label:"Transactions",path:"/admin/transactions"}];return(0,a.jsxs)("div",{className:"min-h-screen bg-white",children:[a.jsx("header",{className:"lg:hidden bg-white border-b border-neutral-200 sticky top-0 z-30",children:(0,a.jsxs)("div",{className:"flex items-center justify-between px-4 py-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 bg-brand-primary rounded flex items-center justify-center text-white font-bold text-sm",children:"S"}),a.jsx("h1",{className:"font-ui text-body font-semibold text-neutral-900",children:"Sarnies Admin"})]}),a.jsx("button",{onClick:()=>b(!y),className:"p-2 hover:bg-neutral-50 rounded transition-all duration-150",children:y?a.jsx(h.Z,{size:20}):a.jsx(m.Z,{size:20})})]})}),(0,a.jsxs)("aside",{className:`fixed top-0 left-0 h-screen w-60 bg-white border-r border-[#E5E7EB] transition-transform duration-300 z-40 ${y?"translate-x-0":"-translate-x-full"} lg:translate-x-0 flex flex-col`,children:[a.jsx("div",{className:"pl-5 pt-6 pb-4 border-b border-[#E5E7EB]",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 flex-shrink-0 rounded-lg bg-brand-primary flex items-center justify-center",children:a.jsx("span",{className:"text-lg font-bold text-white",children:"S"})}),a.jsx("span",{className:"font-ui text-base font-medium text-[#1B1B1B]",children:"Sarnies Admin"})]})}),a.jsx("div",{className:"pl-5 py-4 border-b border-[#E5E7EB]",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 flex-shrink-0 rounded-full bg-[#F5F5F5] flex items-center justify-center",children:a.jsx("span",{className:"text-xs font-semibold text-[#1B1B1B]",children:p?.name?.charAt(0)||"D"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-ui text-sm font-medium text-[#1B1B1B] truncate",title:p?.name||"Dev User",children:p?.name||"Dev User"}),a.jsx("p",{className:"font-ui text-xs text-[#6F6F6F]",children:"Administrator"})]})]})}),a.jsx("nav",{className:"flex-1 overflow-y-auto pl-5 py-4",children:a.jsx("div",{className:"space-y-1",children:f.map(e=>{let r=e.icon,i=s===e.path;return(0,a.jsxs)("button",{onClick:()=>{t.push(e.path),b(!1)},className:`w-full h-11 flex items-center gap-3 pr-3 rounded-lg font-ui text-sm font-medium transition-colors ${i?"bg-[#F5F5F5] text-[#1B1B1B]":"text-[#6F6F6F] hover:bg-[#F5F5F5] hover:text-[#1B1B1B]"}`,children:[a.jsx(r,{className:"w-5 h-5 flex-shrink-0",strokeWidth:1.5}),a.jsx("span",{children:e.label})]},e.path)})})}),a.jsx("div",{className:"pl-5 pb-5 border-t border-[#E5E7EB] pt-4",children:(0,a.jsxs)("button",{onClick:()=>{u(),t.push("/login")},className:"w-full h-11 flex items-center gap-3 pr-3 text-[#6F6F6F] hover:bg-red-50 hover:text-red-600 rounded-lg font-ui text-sm font-medium transition-colors",children:[a.jsx(x.Z,{className:"w-5 h-5 flex-shrink-0",strokeWidth:1.5}),a.jsx("span",{children:"Logout"})]})})]}),y&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-30 lg:hidden",onClick:()=>b(!1)}),a.jsx("main",{className:"lg:ml-60 min-h-screen bg-white",children:e})]})}},6762:(e,t,s)=>{s.d(t,{Z:()=>c});var a=s(10326),r=s(79635),i=s(42887),n=s(5932),l=s(997),d=s(37358),o=s(77636);function c({customer:e,qrType:t,showFullDetails:s=!0}){return(0,a.jsxs)("div",{className:"bg-gradient-to-br from-gray-50 to-white rounded-2xl p-6 border-2 border-gray-200 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(r.Z,{className:"w-5 h-5 text-gray-600"}),a.jsx("h3",{className:"font-bold text-lg text-gray-800",children:"Customer Information"}),a.jsx("div",{className:"ml-auto",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${"loyalty_id"===t?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:"loyalty_id"===t?"LOYALTY QR":"VOUCHER QR"})})]}),(0,a.jsxs)("div",{className:"flex items-start gap-4 mb-6",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-black to-gray-700 rounded-full flex items-center justify-center flex-shrink-0 shadow-md",children:a.jsx("span",{className:"text-white font-bold text-xl",children:((e.name?.charAt(0)||"")+(e.surname?.charAt(0)||"")).toUpperCase()})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("h4",{className:"text-xl font-bold text-black mb-1",children:[e.name," ",e.surname||""]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[a.jsx(i.Z,{className:"w-4 h-4"}),a.jsx("span",{children:e.phone})]}),e.email&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[a.jsx(n.Z,{className:"w-4 h-4"}),a.jsx("span",{children:e.email})]})]})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-amber-400 to-amber-500 rounded-xl px-4 py-3 text-center shadow-md",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 mb-1",children:[a.jsx(l.Z,{className:"w-4 h-4 text-white"}),a.jsx("p",{className:"text-xs font-medium text-white",children:"Points"})]}),a.jsx("p",{className:"text-2xl font-bold text-white",children:e.points_balance})]})]}),s&&(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-gray-200",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl p-4 border border-gray-100",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(d.Z,{className:"w-4 h-4 text-gray-500"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Member Since"})]}),a.jsx("p",{className:"font-bold text-black",children:new Date(e.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl p-4 border border-gray-100",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(o.Z,{className:"w-4 h-4 text-gray-500"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Member ID"})]}),(0,a.jsxs)("p",{className:"font-bold text-black",children:["#",e.id]})]})]})]})}},6824:(e,t,s)=>{s.d(t,{L2:()=>d,Vj:()=>c,Z1:()=>g,ZP:()=>r,cC:()=>x,h3:()=>n,hO:()=>l,kv:()=>i,nN:()=>h,oZ:()=>o,w2:()=>m,xf:()=>p});let a=s(94464).Z.create({baseURL:"https://loyalty.sarnies.tech/api",headers:{"Content-Type":"application/json"},withCredentials:!0});a.interceptors.request.use(e=>e),a.interceptors.response.use(e=>e,e=>{if(e.response?.status===401){let t=window.location.pathname.includes("/login"),s=e.config?.url?.includes("/auth/"),a=localStorage.getItem("auth-storage");t||s||!a||(localStorage.removeItem("auth-storage"),window.location.href="/login")}return Promise.reject(e)});let r=a,i={staffLogin:(e,t)=>a.post("/auth/login",{email:e,password:t}),sendOTP:e=>a.post("/auth/otp/send",{phone:e}),verifyOTP:(e,t)=>a.post("/auth/otp/verify",{phone:e,otp:t}),sendEmailOTP:e=>a.post("/auth/otp/email/send",{email:e}),verifyEmailOTP:(e,t)=>a.post("/auth/otp/email/verify",{email:e,otp:t}),sendMagicLink:e=>a.post("/auth/magic-link/send",{email:e}),verifyMagicLink:e=>a.get(`/auth/magic-link/verify/${e}`)},n={getAll:e=>a.get("/users",{params:e}),getOne:e=>a.get(`/users/${e}`),update:(e,t)=>a.put(`/users/${e}`,t),adjustPoints:(e,t,s)=>a.post(`/users/${e}/points`,{points:t,reason:s}),getStaticQR:e=>a.get(`/users/${e}/static-qr`),getVoucherInstances:(e,t)=>a.get(`/users/${e}/voucher-instances`,{params:t?{status:t}:void 0})},l={getAll:()=>a.get("/vouchers"),getAllAdmin:()=>a.get("/vouchers/all"),getOne:e=>a.get(`/vouchers/${e}`),create:e=>a.post("/vouchers",e),update:(e,t)=>a.patch(`/vouchers/${e}`,t),delete:e=>a.delete(`/vouchers/${e}`),redeem:(e,t)=>a.post(`/vouchers/${e}/redeem`,{user_id:t}),getInstances:(e,t)=>a.get(`/vouchers/instances/${e}`,{params:{status:t}})},d={earnPoints:(e,t,s)=>a.post("/transactions/earn",{user_id:e,amount:t,outlet:s}),redeemVoucher:(e,t,s)=>a.post("/transactions/redeem",{user_id:e,voucher_id:t,outlet:s}),getAll:e=>a.get("/transactions",{params:e})},o={getAll:e=>a.get("/announcements",{params:{user_type:e}}),getAllAdmin:()=>a.get("/announcements/all"),getById:e=>a.get(`/announcements/${e}`),create:e=>a.post("/announcements",e),update:(e,t)=>a.patch(`/announcements/${e}`,t),delete:e=>a.delete(`/announcements/${e}`)},c={getCredits:()=>a.get("/investors/credits"),getOutletCredits:e=>a.get(`/investors/credits/outlet/${e}`),getTransactions:e=>a.get("/investors/transactions",{params:e}),allocateOutletCredits:(e,t)=>a.post(`/investors/admin/${e}/outlet-credits`,t),allocateGroupCredits:(e,t)=>a.post(`/investors/admin/${e}/group-credits`,t),adjustCredits:(e,t)=>a.patch(`/investors/admin/${e}/credits/adjust`,t),getExpiringCredits:e=>a.get("/investors/admin/credits/expiring",{params:e?{days:e}:void 0})},h={getBudget:()=>a.get("/media/budget"),getTransactions:e=>a.get("/media/transactions",{params:e}),setBudget:(e,t)=>a.post(`/media/admin/${e}/budget`,t),adjustBudget:(e,t)=>a.patch(`/media/admin/${e}/budget/adjust`,t),getExpiringBudgets:e=>a.get("/media/admin/budgets/expiring",{params:e?{days:e}:void 0}),getUsageReport:()=>a.get("/media/admin/usage-report")},m={getAll:()=>a.get("/settings"),getOne:e=>a.get(`/settings/${e}`),update:(e,t)=>a.put(`/settings/${e}`,{value:t}),bulkUpdate:e=>a.put("/settings",{settings:e}),create:e=>a.post("/settings",e)},x={getVapidKey:()=>a.get("/notifications/vapid-public-key"),subscribe:e=>a.post("/notifications/subscribe",{subscription:e.toJSON()}),unsubscribe:e=>a.post("/notifications/unsubscribe",{endpoint:e}),getStatus:()=>a.get("/notifications/status"),getPreferences:()=>a.get("/notifications/preferences"),updatePreferences:e=>a.patch("/notifications/preferences",{preferences:e}),sendTest:()=>a.post("/notifications/test"),getHistory:e=>a.get("/notifications/history",{params:e}),adminSend:e=>a.post("/notifications/admin/send",e),adminBroadcast:e=>a.post("/notifications/admin/broadcast",e),adminStats:()=>a.get("/notifications/admin/stats"),adminProcessQueue:()=>a.post("/notifications/admin/process-queue")},g={getMyCode:()=>a.get("/referrals/my-code"),getMyReferrals:()=>a.get("/referrals/my-referrals"),validateCode:e=>a.get(`/referrals/validate/${e}`),applyCode:e=>a.post("/referrals/apply",e),getAdminStats:()=>a.get("/referrals/admin/stats")},p={getAll:()=>a.get("/pos/keys"),create:e=>a.post("/pos/keys",e),revoke:e=>a.delete(`/pos/keys/${e}`),getLogs:(e,t)=>a.get(`/pos/keys/${e}/logs`,{params:t}),getStats:()=>a.get("/pos/keys/stats")}},16205:(e,t,s)=>{s.d(t,{t:()=>i});var a=s(60114),r=s(85251);let i=(0,a.Ue)()((0,r.tJ)(e=>({user:null,token:null,hasHydrated:!1,setAuth:(t,s)=>{e({user:t,token:s})},logout:()=>{e({user:null,token:null})},updateUser:t=>{e(e=>e.user?{user:{...e.user,...t}}:e)},setHasHydrated:t=>{e({hasHydrated:t})}}),{name:"auth-storage",storage:(0,r.FL)(()=>localStorage),onRehydrateStorage:()=>e=>{e?.setHasHydrated(!0)}}))},997:(e,t,s)=>{s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]])},37358:(e,t,s)=>{s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},98908:(e,t,s)=>{s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]])},71810:(e,t,s)=>{s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},5932:(e,t,s)=>{s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},77636:(e,t,s)=>{s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},52679:(e,t,s)=>{s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]])},90748:(e,t,s)=>{s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},42887:(e,t,s)=>{s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},95964:(e,t,s)=>{s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]])},79635:(e,t,s)=>{s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},24061:(e,t,s)=>{s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])}};
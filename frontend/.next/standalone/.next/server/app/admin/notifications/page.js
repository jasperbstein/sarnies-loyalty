(()=>{var e={};e.id=7395,e.ids=[7395],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},1433:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.Z,__next_app__:()=>u,originalPathname:()=>c,pages:()=>o,routeModule:()=>x,tree:()=>d}),s(44163),s(95478),s(26083),s(96560);var r=s(23191),a=s(88716),n=s(48001),i=s(95231),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);s.d(t,l);let d=["",{children:["admin",{children:["notifications",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,44163)),"/root/Loyalty/frontend/app/admin/notifications/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,95478)),"/root/Loyalty/frontend/app/layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,26083)),"/root/Loyalty/frontend/app/error.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,96560)),"/root/Loyalty/frontend/app/not-found.tsx"]}],o=["/root/Loyalty/frontend/app/admin/notifications/page.tsx"],c="/admin/notifications/page",u={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/notifications/page",pathname:"/admin/notifications",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},13898:(e,t,s)=>{Promise.resolve().then(s.bind(s,17510))},17510:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>b});var r=s(10326),a=s(17577),n=s(36143),i=s(24061),l=s(6507);let d=(0,s(76557).Z)("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);var o=s(32933),c=s(94019),u=s(941),x=s(88307),p=s(69436),m=s(6824),h=s(55358),g=s.n(h);function b(){let[e,t]=(0,a.useState)(null),[s,h]=(0,a.useState)(!0),[b,f]=(0,a.useState)([]),[j,y]=(0,a.useState)([]),[v,N]=(0,a.useState)(""),[w,k]=(0,a.useState)(!1),[Z,S]=(0,a.useState)("targeted"),[C,P]=(0,a.useState)(!1),[q,$]=(0,a.useState)(""),[B,M]=(0,a.useState)(""),[F,A]=(0,a.useState)("promotions"),_=async()=>{h(!0);try{let[e,s]=await Promise.all([m.cC.adminStats(),m.h3.getAll({limit:500})]);t(e.data),f(s.data.users||s.data||[])}catch(e){g().error("Failed to load notification data")}finally{h(!1)}},z=async()=>{if(!q.trim()||!B.trim()){g().error("Title and body are required");return}if("targeted"===Z&&0===j.length){g().error("Please select at least one user");return}P(!0);try{"broadcast"===Z?(await m.cC.adminBroadcast({title:q,body:B,category:F}),g().success("Broadcast notification sent!")):(await m.cC.adminSend({user_ids:j,title:q,body:B,category:F}),g().success(`Notification sent to ${j.length} user(s)!`)),$(""),M(""),y([]),_()}catch(e){g().error(e.response?.data?.error||"Failed to send notification")}finally{P(!1)}},E=async()=>{try{await m.cC.adminProcessQueue(),g().success("Queue processed"),_()}catch(e){g().error("Failed to process queue")}},L=b.filter(e=>e.name?.toLowerCase().includes(v.toLowerCase())||e.phone?.includes(v)),T=e=>{y(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])};return r.jsx(n.Z,{children:r.jsx("div",{className:"min-h-screen bg-neutral-50",children:(0,r.jsxs)("div",{className:"max-w-[1600px] mx-auto px-4 py-6",children:[r.jsx("div",{className:"flex items-center justify-between gap-4 mb-6",children:(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-[28px] font-semibold text-neutral-900",children:"Push Notifications"}),r.jsx("p",{className:"text-[14px] text-neutral-500",children:"Send notifications to your users"})]})}),e&&(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6",children:[r.jsx("div",{className:"bg-white rounded-xl border border-neutral-200 p-4",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-100 flex items-center justify-center",children:r.jsx(i.Z,{size:20,className:"text-green-600"})}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-[24px] font-semibold text-neutral-900",children:e.subscribed_users}),r.jsx("p",{className:"text-[12px] text-neutral-500",children:"Subscribed Users"})]})]})}),r.jsx("div",{className:"bg-white rounded-xl border border-neutral-200 p-4",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center",children:r.jsx(l.Z,{size:20,className:"text-blue-600"})}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-[24px] font-semibold text-neutral-900",children:e.total_subscriptions}),r.jsx("p",{className:"text-[12px] text-neutral-500",children:"Total Devices"})]})]})}),r.jsx("div",{className:"bg-white rounded-xl border border-neutral-200 p-4",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-amber-100 flex items-center justify-center",children:r.jsx(d,{size:20,className:"text-amber-600"})}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-[24px] font-semibold text-neutral-900",children:e.pending_notifications}),r.jsx("p",{className:"text-[12px] text-neutral-500",children:"Pending"})]})]})}),r.jsx("div",{className:"bg-white rounded-xl border border-neutral-200 p-4",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-100 flex items-center justify-center",children:r.jsx(o.Z,{size:20,className:"text-green-600"})}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-[24px] font-semibold text-neutral-900",children:e.sent_last_24h}),r.jsx("p",{className:"text-[12px] text-neutral-500",children:"Sent (24h)"})]})]})}),r.jsx("div",{className:"bg-white rounded-xl border border-neutral-200 p-4",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-100 flex items-center justify-center",children:r.jsx(c.Z,{size:20,className:"text-red-600"})}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-[24px] font-semibold text-neutral-900",children:e.failed_last_24h}),r.jsx("p",{className:"text-[12px] text-neutral-500",children:"Failed (24h)"})]})]})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"bg-white rounded-xl border border-neutral-200 p-6",children:[r.jsx("h2",{className:"text-[18px] font-semibold text-neutral-900 mb-4",children:"Send Notification"}),(0,r.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,r.jsxs)("button",{onClick:()=>S("targeted"),className:`flex-1 py-2 px-4 rounded-lg text-[14px] font-medium transition-colors ${"targeted"===Z?"bg-neutral-900 text-white":"bg-neutral-100 text-neutral-600 hover:bg-neutral-200"}`,children:[r.jsx(i.Z,{size:16,className:"inline mr-2"}),"Targeted"]}),(0,r.jsxs)("button",{onClick:()=>S("broadcast"),className:`flex-1 py-2 px-4 rounded-lg text-[14px] font-medium transition-colors ${"broadcast"===Z?"bg-neutral-900 text-white":"bg-neutral-100 text-neutral-600 hover:bg-neutral-200"}`,children:[r.jsx(d,{size:16,className:"inline mr-2"}),"Broadcast"]})]}),"targeted"===Z&&(0,r.jsxs)("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-[13px] font-medium text-neutral-700 mb-1",children:"Recipients"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("button",{onClick:()=>k(!w),className:"w-full px-3 py-2 border border-neutral-200 rounded-lg text-left text-[14px] flex items-center justify-between hover:border-neutral-300 transition-colors",children:[r.jsx("span",{className:j.length>0?"text-neutral-900":"text-neutral-400",children:j.length>0?`${j.length} user(s) selected`:"Select users..."}),r.jsx(u.Z,{size:16,className:"text-neutral-400"})]}),w&&(0,r.jsxs)("div",{className:"absolute z-10 w-full mt-1 bg-white border border-neutral-200 rounded-lg shadow-lg max-h-64 overflow-hidden",children:[(0,r.jsxs)("div",{className:"p-2 border-b border-neutral-100",children:[(0,r.jsxs)("div",{className:"relative",children:[r.jsx(x.Z,{size:16,className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-neutral-400"}),r.jsx("input",{type:"text",placeholder:"Search users...",className:"w-full pl-8 pr-3 py-1.5 border border-neutral-200 rounded text-[13px] focus:outline-none focus:ring-2 focus:ring-neutral-900/10",value:v,onChange:e=>N(e.target.value)})]}),(0,r.jsxs)("div",{className:"flex gap-2 mt-2",children:[r.jsx("button",{onClick:()=>{let e=L.map(e=>e.id);y(t=>{let s=[...t];return e.forEach(e=>{s.includes(e)||s.push(e)}),s})},className:"text-[11px] text-blue-600 hover:underline",children:"Select all"}),r.jsx("button",{onClick:()=>{y([])},className:"text-[11px] text-neutral-500 hover:underline",children:"Clear"})]})]}),r.jsx("div",{className:"max-h-48 overflow-y-auto",children:L.map(e=>(0,r.jsxs)("label",{className:"flex items-center gap-3 px-3 py-2 hover:bg-neutral-50 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:j.includes(e.id),onChange:()=>T(e.id),className:"w-4 h-4 rounded border-neutral-300 text-neutral-900 focus:ring-neutral-900"}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-[13px] font-medium text-neutral-900 truncate",children:e.name||"Unnamed"}),r.jsx("p",{className:"text-[11px] text-neutral-500",children:e.phone})]}),r.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded ${"employee"===e.type?"bg-purple-100 text-purple-700":"investor"===e.type?"bg-blue-100 text-blue-700":"bg-neutral-100 text-neutral-600"}`,children:e.type})]},e.id))}),r.jsx("div",{className:"p-2 border-t border-neutral-100",children:r.jsx("button",{onClick:()=>k(!1),className:"w-full py-1.5 bg-neutral-900 text-white rounded text-[13px] font-medium hover:bg-neutral-800",children:"Done"})})]})]})]}),"broadcast"===Z&&r.jsx("div",{className:"mb-4 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:(0,r.jsxs)("p",{className:"text-[13px] text-amber-800",children:[r.jsx("strong",{children:"Warning:"})," This will send to all users with push notifications enabled."]})}),(0,r.jsxs)("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-[13px] font-medium text-neutral-700 mb-1",children:"Title"}),r.jsx("input",{type:"text",placeholder:"Notification title...",className:"w-full px-3 py-2 border border-neutral-200 rounded-lg text-[14px] focus:outline-none focus:ring-2 focus:ring-neutral-900/10 focus:border-neutral-400",value:q,onChange:e=>$(e.target.value),maxLength:100})]}),(0,r.jsxs)("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-[13px] font-medium text-neutral-700 mb-1",children:"Message"}),r.jsx("textarea",{placeholder:"Notification message...",className:"w-full px-3 py-2 border border-neutral-200 rounded-lg text-[14px] focus:outline-none focus:ring-2 focus:ring-neutral-900/10 focus:border-neutral-400 resize-none",rows:3,value:B,onChange:e=>M(e.target.value),maxLength:500})]}),(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-[13px] font-medium text-neutral-700 mb-1",children:"Category"}),(0,r.jsxs)("select",{className:"w-full px-3 py-2 border border-neutral-200 rounded-lg text-[14px] focus:outline-none focus:ring-2 focus:ring-neutral-900/10 focus:border-neutral-400 bg-white",value:F,onChange:e=>A(e.target.value),children:[r.jsx("option",{value:"promotions",children:"Promotions"}),r.jsx("option",{value:"points_rewards",children:"Points & Rewards"}),r.jsx("option",{value:"birthday",children:"Birthday"}),r.jsx("option",{value:"referrals",children:"Referrals"})]}),r.jsx("p",{className:"text-[11px] text-neutral-500 mt-1",children:"Users who opted out of this category won't receive the notification."})]}),r.jsx("button",{onClick:z,disabled:C||!q.trim()||!B.trim()||"targeted"===Z&&0===j.length,className:"w-full py-2.5 bg-neutral-900 text-white rounded-lg text-[14px] font-medium hover:bg-neutral-800 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 transition-colors",children:C?(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Sending..."]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx(p.Z,{size:16}),"broadcast"===Z?"Send Broadcast":`Send to ${j.length} User(s)`]})})]}),(0,r.jsxs)("div",{className:"bg-white rounded-xl border border-neutral-200 p-6",children:[r.jsx("h2",{className:"text-[18px] font-semibold text-neutral-900 mb-4",children:"Preview"}),r.jsx("div",{className:"bg-neutral-100 rounded-xl p-4",children:r.jsx("div",{className:"max-w-[320px] mx-auto",children:(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[(0,r.jsxs)("div",{className:"bg-neutral-900 text-white px-4 py-2 flex items-center justify-between text-[11px]",children:[r.jsx("span",{children:"9:41"}),r.jsx("span",{children:"Sarnies"})]}),r.jsx("div",{className:"p-4",children:r.jsx("div",{className:"bg-neutral-50 rounded-xl p-3 border border-neutral-200",children:(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-neutral-900 flex items-center justify-center flex-shrink-0",children:r.jsx(l.Z,{size:20,className:"text-white"})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between gap-2 mb-1",children:[r.jsx("span",{className:"text-[11px] font-medium text-neutral-500 uppercase",children:"SARNIES"}),r.jsx("span",{className:"text-[10px] text-neutral-400",children:"now"})]}),r.jsx("p",{className:"text-[14px] font-semibold text-neutral-900 mb-0.5",children:q||"Notification Title"}),r.jsx("p",{className:"text-[13px] text-neutral-600 line-clamp-2",children:B||"Notification message will appear here..."})]})]})})})]})})}),(0,r.jsxs)("div",{className:"mt-6 pt-6 border-t border-neutral-200",children:[r.jsx("h3",{className:"text-[14px] font-medium text-neutral-700 mb-3",children:"Queue Management"}),r.jsx("button",{onClick:E,className:"px-4 py-2 border border-neutral-200 rounded-lg text-[13px] font-medium text-neutral-700 hover:bg-neutral-50 transition-colors",children:"Process Pending Queue"}),r.jsx("p",{className:"text-[11px] text-neutral-500 mt-2",children:"Manually trigger processing of any pending notifications in the queue."})]})]})]})]})})})}},36143:(e,t,s)=>{"use strict";s.d(t,{Z:()=>h});var r=s(10326),a=s(35047),n=s(16205);let i=(0,s(76557).Z)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);var l=s(24061),d=s(98908),o=s(52679),c=s(95964),u=s(94019),x=s(90748),p=s(71810),m=s(17577);function h({children:e}){let t=(0,a.useRouter)(),s=(0,a.usePathname)(),{user:h,logout:g}=(0,n.t)(),[b,f]=(0,m.useState)(!1),j=[{icon:i,label:"Dashboard",path:"/admin/dashboard"},{icon:l.Z,label:"Users",path:"/admin/users"},{icon:d.Z,label:"Vouchers",path:"/admin/vouchers"},{icon:o.Z,label:"Announcements",path:"/admin/announcements"},{icon:c.Z,label:"Transactions",path:"/admin/transactions"}];return(0,r.jsxs)("div",{className:"min-h-screen bg-white",children:[r.jsx("header",{className:"lg:hidden bg-white border-b border-neutral-200 sticky top-0 z-30",children:(0,r.jsxs)("div",{className:"flex items-center justify-between px-4 py-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-8 h-8 bg-brand-primary rounded flex items-center justify-center text-white font-bold text-sm",children:"S"}),r.jsx("h1",{className:"font-ui text-body font-semibold text-neutral-900",children:"Sarnies Admin"})]}),r.jsx("button",{onClick:()=>f(!b),className:"p-2 hover:bg-neutral-50 rounded transition-all duration-150",children:b?r.jsx(u.Z,{size:20}):r.jsx(x.Z,{size:20})})]})}),(0,r.jsxs)("aside",{className:`fixed top-0 left-0 h-screen w-60 bg-white border-r border-[#E5E7EB] transition-transform duration-300 z-40 ${b?"translate-x-0":"-translate-x-full"} lg:translate-x-0 flex flex-col`,children:[r.jsx("div",{className:"pl-5 pt-6 pb-4 border-b border-[#E5E7EB]",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 flex-shrink-0 rounded-lg bg-brand-primary flex items-center justify-center",children:r.jsx("span",{className:"text-lg font-bold text-white",children:"S"})}),r.jsx("span",{className:"font-ui text-base font-medium text-[#1B1B1B]",children:"Sarnies Admin"})]})}),r.jsx("div",{className:"pl-5 py-4 border-b border-[#E5E7EB]",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 flex-shrink-0 rounded-full bg-[#F5F5F5] flex items-center justify-center",children:r.jsx("span",{className:"text-xs font-semibold text-[#1B1B1B]",children:h?.name?.charAt(0)||"D"})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-ui text-sm font-medium text-[#1B1B1B] truncate",title:h?.name||"Dev User",children:h?.name||"Dev User"}),r.jsx("p",{className:"font-ui text-xs text-[#6F6F6F]",children:"Administrator"})]})]})}),r.jsx("nav",{className:"flex-1 overflow-y-auto pl-5 py-4",children:r.jsx("div",{className:"space-y-1",children:j.map(e=>{let a=e.icon,n=s===e.path;return(0,r.jsxs)("button",{onClick:()=>{t.push(e.path),f(!1)},className:`w-full h-11 flex items-center gap-3 pr-3 rounded-lg font-ui text-sm font-medium transition-colors ${n?"bg-[#F5F5F5] text-[#1B1B1B]":"text-[#6F6F6F] hover:bg-[#F5F5F5] hover:text-[#1B1B1B]"}`,children:[r.jsx(a,{className:"w-5 h-5 flex-shrink-0",strokeWidth:1.5}),r.jsx("span",{children:e.label})]},e.path)})})}),r.jsx("div",{className:"pl-5 pb-5 border-t border-[#E5E7EB] pt-4",children:(0,r.jsxs)("button",{onClick:()=>{g(),t.push("/login")},className:"w-full h-11 flex items-center gap-3 pr-3 text-[#6F6F6F] hover:bg-red-50 hover:text-red-600 rounded-lg font-ui text-sm font-medium transition-colors",children:[r.jsx(p.Z,{className:"w-5 h-5 flex-shrink-0",strokeWidth:1.5}),r.jsx("span",{children:"Logout"})]})})]}),b&&r.jsx("div",{className:"fixed inset-0 bg-black/50 z-30 lg:hidden",onClick:()=>f(!1)}),r.jsx("main",{className:"lg:ml-60 min-h-screen bg-white",children:e})]})}},6824:(e,t,s)=>{"use strict";s.d(t,{L2:()=>d,Vj:()=>c,Z1:()=>m,ZP:()=>a,cC:()=>p,h3:()=>i,hO:()=>l,kv:()=>n,nN:()=>u,oZ:()=>o,w2:()=>x,xf:()=>h});let r=s(94464).Z.create({baseURL:"https://loyalty.sarnies.tech/api",headers:{"Content-Type":"application/json"},withCredentials:!0});r.interceptors.request.use(e=>e),r.interceptors.response.use(e=>e,e=>{if(e.response?.status===401){let t=window.location.pathname.includes("/login"),s=e.config?.url?.includes("/auth/"),r=localStorage.getItem("auth-storage");t||s||!r||(localStorage.removeItem("auth-storage"),window.location.href="/login")}return Promise.reject(e)});let a=r,n={staffLogin:(e,t)=>r.post("/auth/login",{email:e,password:t}),sendOTP:e=>r.post("/auth/otp/send",{phone:e}),verifyOTP:(e,t)=>r.post("/auth/otp/verify",{phone:e,otp:t}),sendEmailOTP:e=>r.post("/auth/otp/email/send",{email:e}),verifyEmailOTP:(e,t)=>r.post("/auth/otp/email/verify",{email:e,otp:t}),sendMagicLink:e=>r.post("/auth/magic-link/send",{email:e}),verifyMagicLink:e=>r.get(`/auth/magic-link/verify/${e}`)},i={getAll:e=>r.get("/users",{params:e}),getOne:e=>r.get(`/users/${e}`),update:(e,t)=>r.put(`/users/${e}`,t),adjustPoints:(e,t,s)=>r.post(`/users/${e}/points`,{points:t,reason:s}),getStaticQR:e=>r.get(`/users/${e}/static-qr`),getVoucherInstances:(e,t)=>r.get(`/users/${e}/voucher-instances`,{params:t?{status:t}:void 0})},l={getAll:()=>r.get("/vouchers"),getAllAdmin:()=>r.get("/vouchers/all"),getOne:e=>r.get(`/vouchers/${e}`),create:e=>r.post("/vouchers",e),update:(e,t)=>r.patch(`/vouchers/${e}`,t),delete:e=>r.delete(`/vouchers/${e}`),redeem:(e,t)=>r.post(`/vouchers/${e}/redeem`,{user_id:t}),getInstances:(e,t)=>r.get(`/vouchers/instances/${e}`,{params:{status:t}})},d={earnPoints:(e,t,s)=>r.post("/transactions/earn",{user_id:e,amount:t,outlet:s}),redeemVoucher:(e,t,s)=>r.post("/transactions/redeem",{user_id:e,voucher_id:t,outlet:s}),getAll:e=>r.get("/transactions",{params:e})},o={getAll:e=>r.get("/announcements",{params:{user_type:e}}),getAllAdmin:()=>r.get("/announcements/all"),getById:e=>r.get(`/announcements/${e}`),create:e=>r.post("/announcements",e),update:(e,t)=>r.patch(`/announcements/${e}`,t),delete:e=>r.delete(`/announcements/${e}`)},c={getCredits:()=>r.get("/investors/credits"),getOutletCredits:e=>r.get(`/investors/credits/outlet/${e}`),getTransactions:e=>r.get("/investors/transactions",{params:e}),allocateOutletCredits:(e,t)=>r.post(`/investors/admin/${e}/outlet-credits`,t),allocateGroupCredits:(e,t)=>r.post(`/investors/admin/${e}/group-credits`,t),adjustCredits:(e,t)=>r.patch(`/investors/admin/${e}/credits/adjust`,t),getExpiringCredits:e=>r.get("/investors/admin/credits/expiring",{params:e?{days:e}:void 0})},u={getBudget:()=>r.get("/media/budget"),getTransactions:e=>r.get("/media/transactions",{params:e}),setBudget:(e,t)=>r.post(`/media/admin/${e}/budget`,t),adjustBudget:(e,t)=>r.patch(`/media/admin/${e}/budget/adjust`,t),getExpiringBudgets:e=>r.get("/media/admin/budgets/expiring",{params:e?{days:e}:void 0}),getUsageReport:()=>r.get("/media/admin/usage-report")},x={getAll:()=>r.get("/settings"),getOne:e=>r.get(`/settings/${e}`),update:(e,t)=>r.put(`/settings/${e}`,{value:t}),bulkUpdate:e=>r.put("/settings",{settings:e}),create:e=>r.post("/settings",e)},p={getVapidKey:()=>r.get("/notifications/vapid-public-key"),subscribe:e=>r.post("/notifications/subscribe",{subscription:e.toJSON()}),unsubscribe:e=>r.post("/notifications/unsubscribe",{endpoint:e}),getStatus:()=>r.get("/notifications/status"),getPreferences:()=>r.get("/notifications/preferences"),updatePreferences:e=>r.patch("/notifications/preferences",{preferences:e}),sendTest:()=>r.post("/notifications/test"),getHistory:e=>r.get("/notifications/history",{params:e}),adminSend:e=>r.post("/notifications/admin/send",e),adminBroadcast:e=>r.post("/notifications/admin/broadcast",e),adminStats:()=>r.get("/notifications/admin/stats"),adminProcessQueue:()=>r.post("/notifications/admin/process-queue")},m={getMyCode:()=>r.get("/referrals/my-code"),getMyReferrals:()=>r.get("/referrals/my-referrals"),validateCode:e=>r.get(`/referrals/validate/${e}`),applyCode:e=>r.post("/referrals/apply",e),getAdminStats:()=>r.get("/referrals/admin/stats")},h={getAll:()=>r.get("/pos/keys"),create:e=>r.post("/pos/keys",e),revoke:e=>r.delete(`/pos/keys/${e}`),getLogs:(e,t)=>r.get(`/pos/keys/${e}/logs`,{params:t}),getStats:()=>r.get("/pos/keys/stats")}},16205:(e,t,s)=>{"use strict";s.d(t,{t:()=>n});var r=s(60114),a=s(85251);let n=(0,r.Ue)()((0,a.tJ)(e=>({user:null,token:null,hasHydrated:!1,setAuth:(t,s)=>{e({user:t,token:s})},logout:()=>{e({user:null,token:null})},updateUser:t=>{e(e=>e.user?{user:{...e.user,...t}}:e)},setHasHydrated:t=>{e({hasHydrated:t})}}),{name:"auth-storage",storage:(0,a.FL)(()=>localStorage),onRehydrateStorage:()=>e=>{e?.setHasHydrated(!0)}}))},6507:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(76557).Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]])},32933:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(76557).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},941:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(76557).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},98908:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(76557).Z)("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]])},71810:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(76557).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},52679:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(76557).Z)("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]])},90748:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(76557).Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},95964:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(76557).Z)("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]])},88307:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(76557).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},69436:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(76557).Z)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]])},24061:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(76557).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},44163:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(68570).createProxy)(String.raw`/root/Loyalty/frontend/app/admin/notifications/page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[5380,2696,4464,5814],()=>s(1433));module.exports=r})();
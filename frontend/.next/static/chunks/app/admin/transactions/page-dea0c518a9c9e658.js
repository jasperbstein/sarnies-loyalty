(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4454],{1893:function(e,t,s){Promise.resolve().then(s.bind(s,1615))},1615:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return h}});var n=s(7437),r=s(2265),a=s(3247),i=s(6189);let l=r.forwardRef(function(e,t){let{title:s,titleId:n,...a}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),s?r.createElement("title",{id:n},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM18.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"}))}),o=e=>{let{tx:t,onClick:s,onMore:r}=e,a="earned"===t.type?"Earned":"redeemed"===t.type?"Redeemed":"Adjusted";"completed"===t.status||t.status;let i="completed"===t.status?"Completed":"pending"===t.status?"Pending":"Failed";return(0,n.jsxs)("div",{className:"flex items-center h-[60px] border-b border-neutral-100 last:border-0 px-4 hover:bg-neutral-50 cursor-pointer transition-colors",onClick:()=>{s&&s(t.id)},children:[(0,n.jsxs)("div",{className:"flex-1 px-4 min-w-0",children:[(0,n.jsx)("div",{className:"text-[14px] font-medium text-neutral-900 truncate",children:t.userName}),t.userSubtitle&&(0,n.jsx)("div",{className:"text-[13px] text-neutral-500 truncate",children:t.userSubtitle})]}),(0,n.jsx)("div",{className:"w-[120px] px-4",children:(0,n.jsx)("span",{className:"inline-flex items-center h-[22px] px-2.5 rounded-md bg-neutral-100 text-[12px] font-medium text-neutral-700",children:a})}),(0,n.jsx)("div",{className:"w-[140px] px-4 text-[13px] text-neutral-500 truncate",children:t.outlet||"—"}),(0,n.jsx)("div",{className:"w-[100px] px-4 text-[13px] font-mono text-neutral-900",children:t.points}),(0,n.jsx)("div",{className:"w-[100px] px-4 text-[13px] font-mono text-neutral-900",children:t.valueDisplay}),(0,n.jsx)("div",{className:"w-[110px] px-4",children:(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("div",{className:"w-1 h-1 rounded-full ".concat("completed"===t.status?"bg-green-500":"pending"===t.status?"bg-amber-500":"bg-red-500")}),(0,n.jsx)("span",{className:"text-[13px] font-medium text-neutral-700",children:i})]})}),(0,n.jsx)("div",{className:"w-[140px] px-4 text-[13px] text-neutral-700",children:t.createdAtDisplay}),(0,n.jsx)("div",{className:"w-10 flex items-center justify-end",children:(0,n.jsx)("button",{type:"button",onClick:e=>{e.stopPropagation(),r&&r(t.id)},className:"w-7 h-7 flex items-center justify-center text-neutral-400 hover:text-neutral-900 transition-colors rounded hover:bg-neutral-100",children:(0,n.jsx)(l,{className:"w-4 h-4"})})})]})};var d=s(7606),c=s(9379);let u=r.forwardRef(function(e,t){let{title:s,titleId:n,...a}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),s?r.createElement("title",{id:n},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}),x=e=>{let{open:t,tx:s,onClose:r}=e;return t&&s?(0,n.jsxs)("div",{className:"fixed inset-0 z-40 flex",children:[(0,n.jsx)("div",{className:"flex-1 bg-black/30",onClick:r}),(0,n.jsxs)("aside",{className:"w-full max-w-md h-full bg-white shadow-lg border-l border-[#E5E7EB] flex flex-col",children:[(0,n.jsxs)("header",{className:"flex items-center justify-between px-6 h-14 border-b border-[#E5E7EB]",children:[(0,n.jsx)("h2",{className:"text-[16px] font-semibold text-[#1B1B1B]",children:"Transaction details"}),(0,n.jsx)("button",{type:"button",onClick:r,className:"w-8 h-8 flex items-center justify-center text-[#6F6F6F] hover:text-[#1B1B1B]",children:(0,n.jsx)(u,{className:"w-5 h-5"})})]}),(0,n.jsxs)("div",{className:"flex-1 overflow-y-auto px-6 py-4 space-y-6",children:[(0,n.jsxs)("section",{className:"flex items-center gap-3",children:[(0,n.jsx)(d.P,{initials:s.userInitials,size:40}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-[16px] font-semibold text-[#1B1B1B]",children:s.userName}),s.userSubtitle&&(0,n.jsx)("div",{className:"text-[13px] text-[#6F6F6F]",children:s.userSubtitle}),(0,n.jsx)("div",{className:"mt-2 flex items-center gap-2",children:(0,n.jsx)(c.C,{label:"completed"===s.status?"Completed":"pending"===s.status?"Pending":"Failed",variant:"completed"===s.status?"statusActive":"failed"===s.status?"statusInactive":"neutral"})})]})]}),(0,n.jsxs)("section",{className:"space-y-3",children:[(0,n.jsx)("h3",{className:"text-[13px] font-medium text-[#6F6F6F] uppercase",children:"Summary"}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,n.jsxs)("div",{className:"rounded-lg border border-[#E5E7EB] px-3 py-2",children:[(0,n.jsx)("div",{className:"text-[12px] text-[#6F6F6F]",children:"Type"}),(0,n.jsx)("div",{className:"text-[14px] text-[#1B1B1B]",children:s.type})]}),(0,n.jsxs)("div",{className:"rounded-lg border border-[#E5E7EB] px-3 py-2",children:[(0,n.jsx)("div",{className:"text-[12px] text-[#6F6F6F]",children:"Points"}),(0,n.jsx)("div",{className:"text-[16px] font-semibold text-[#1B1B1B]",children:s.points})]}),(0,n.jsxs)("div",{className:"rounded-lg border border-[#E5E7EB] px-3 py-2",children:[(0,n.jsx)("div",{className:"text-[12px] text-[#6F6F6F]",children:"Value"}),(0,n.jsx)("div",{className:"text-[14px] text-[#1B1B1B]",children:s.valueDisplay})]}),(0,n.jsxs)("div",{className:"rounded-lg border border-[#E5E7EB] px-3 py-2",children:[(0,n.jsx)("div",{className:"text-[12px] text-[#6F6F6F]",children:"Date"}),(0,n.jsx)("div",{className:"text-[14px] text-[#1B1B1B]",children:s.createdAtDisplay})]})]})]}),(0,n.jsxs)("section",{className:"space-y-2",children:[(0,n.jsx)("h3",{className:"text-[13px] font-medium text-[#6F6F6F] uppercase",children:"Outlet"}),(0,n.jsx)("div",{className:"rounded-lg border border-[#E5E7EB] px-3 py-2 text-[14px] text-[#1B1B1B]",children:s.outlet||"—"})]})]})]})]}):null};var p=s(9116),m=s(9064);function h(){let[e,t]=(0,r.useState)(""),[s,l]=(0,r.useState)("all"),[d,c]=(0,r.useState)("all"),[u,h]=(0,r.useState)(null),[g,f]=(0,r.useState)([]),[b,v]=(0,r.useState)(!0),[j,y]=(0,r.useState)(25);(0,r.useEffect)(()=>{N()},[]);let N=async()=>{v(!0);try{let e=await p.L2.getAll({limit:1e3}),t=(e.data.transactions||e.data).map(e=>{let t=e.user_name||"User ".concat(e.user_id),s=t.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2),n="earned";"redeem"===e.type||"voucher_redeemed"===e.type?n="redeemed":("adjustment"===e.type||"points_adjusted"===e.type)&&(n="adjusted");let r="completed";"pending"===e.status?r="pending":("failed"===e.status||"cancelled"===e.status)&&(r="failed");let a=e.amount_thb||e.amount||0,i=a>0?"฿".concat(Number(a).toFixed(2)):"—",l=new Date(e.created_at||e.timestamp).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"});return{id:String(e.id),userName:t,userSubtitle:e.user_phone||void 0,userInitials:s,type:n,status:r,points:Math.abs(e.points_earned||e.points||0),valueDisplay:i,outlet:e.outlet_name||e.outlet||null,createdAtDisplay:l}});f(t)}catch(e){m.ZP.error("Failed to load transactions")}finally{v(!1)}},w=(0,r.useMemo)(()=>{let t=e.toLowerCase();return g.filter(e=>(!t||!!(e.userName+(e.userSubtitle||"")+(e.outlet||"")+e.valueDisplay).toLowerCase().includes(t))&&("all"===s||e.type===s)&&("all"===d||e.status===d))},[e,s,d,g]),k=w.find(e=>e.id===u)||null;return(0,n.jsx)(i.Z,{children:(0,n.jsxs)("div",{className:"max-w-[1600px] mx-auto px-4 py-6",children:[(0,n.jsx)("div",{className:"flex items-center justify-between gap-4 mb-6",children:(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-[28px] font-semibold text-neutral-900",children:"Transactions"}),(0,n.jsxs)("p",{className:"text-[14px] text-neutral-500",children:[g.length," total transactions"]})]})}),(0,n.jsx)("div",{className:"bg-white border border-neutral-200 rounded-xl p-4 mb-6 shadow-sm",children:(0,n.jsxs)("div",{className:"flex items-end justify-between gap-4 flex-wrap",children:[(0,n.jsxs)("div",{className:"flex items-end gap-4 flex-1",children:[(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(a.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-neutral-400"}),(0,n.jsx)("input",{type:"text",placeholder:"Search transactions...",className:"w-[320px] h-[40px] pl-10 pr-3 border border-neutral-300 rounded-lg text-[14px] text-neutral-900 placeholder:text-neutral-500 focus:outline-none focus:ring-1 focus:ring-neutral-400 focus:border-neutral-400 transition-all bg-white",value:e,onChange:e=>t(e.target.value)})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-[10px] font-semibold uppercase tracking-tight text-neutral-500 mb-1.5",children:"TYPE"}),(0,n.jsxs)("select",{value:s,onChange:e=>l(e.target.value),className:"h-[40px] px-3 pr-8 rounded-lg border border-neutral-300 bg-white text-[14px] text-neutral-900 hover:border-neutral-400 transition-all focus:outline-none focus:ring-1 focus:ring-neutral-400 cursor-pointer",children:[(0,n.jsx)("option",{value:"all",children:"All"}),(0,n.jsx)("option",{value:"earned",children:"Earned"}),(0,n.jsx)("option",{value:"redeemed",children:"Redeemed"}),(0,n.jsx)("option",{value:"adjusted",children:"Adjusted"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-[10px] font-semibold uppercase tracking-tight text-neutral-500 mb-1.5",children:"STATUS"}),(0,n.jsxs)("select",{value:d,onChange:e=>c(e.target.value),className:"h-[40px] px-3 pr-8 rounded-lg border border-neutral-300 bg-white text-[14px] text-neutral-900 hover:border-neutral-400 transition-all focus:outline-none focus:ring-1 focus:ring-neutral-400 cursor-pointer",children:[(0,n.jsx)("option",{value:"all",children:"All"}),(0,n.jsx)("option",{value:"completed",children:"Completed"}),(0,n.jsx)("option",{value:"pending",children:"Pending"}),(0,n.jsx)("option",{value:"failed",children:"Failed"})]})]})]}),(0,n.jsxs)("div",{className:"h-8 px-3 rounded-lg border border-neutral-300 text-[13px] flex items-center gap-2",children:[(0,n.jsx)("span",{className:"text-neutral-500",children:"Rows per page"}),(0,n.jsxs)("select",{className:"bg-transparent outline-none text-neutral-900",value:j,onChange:e=>y(Number(e.target.value)),children:[(0,n.jsx)("option",{children:"25"}),(0,n.jsx)("option",{children:"50"}),(0,n.jsx)("option",{children:"100"})]})]})]})}),(0,n.jsxs)("div",{className:"w-full rounded-xl border border-neutral-200 bg-white shadow-sm overflow-hidden",children:[(0,n.jsxs)("div",{className:"flex items-center h-[48px] px-4 border-b border-neutral-200 bg-neutral-50 text-[11px] font-semibold uppercase tracking-wider text-neutral-600",children:[(0,n.jsx)("div",{className:"flex-1 px-4",children:"User"}),(0,n.jsx)("div",{className:"w-[120px] px-4",children:"Type"}),(0,n.jsx)("div",{className:"w-[140px] px-4",children:"Outlet"}),(0,n.jsx)("div",{className:"w-[100px] px-4",children:"Points"}),(0,n.jsx)("div",{className:"w-[100px] px-4",children:"Value"}),(0,n.jsx)("div",{className:"w-[110px] px-4",children:"Status"}),(0,n.jsx)("div",{className:"w-[140px] px-4",children:"Date"}),(0,n.jsx)("div",{className:"w-10"})]}),b?(0,n.jsx)("div",{className:"flex items-center justify-center h-40 text-[14px] text-neutral-500",children:"Loading transactions..."}):0===w.length?(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 px-4",children:[(0,n.jsx)("div",{className:"w-12 h-12 rounded-full bg-neutral-100 flex items-center justify-center mb-4",children:(0,n.jsx)(a.Z,{size:24,className:"text-neutral-400"})}),(0,n.jsx)("h3",{className:"text-[16px] font-semibold text-neutral-900 mb-1",children:"No transactions found"}),(0,n.jsx)("p",{className:"text-[14px] text-neutral-500",children:"Try adjusting your search or filters."})]}):w.slice(0,j).map(e=>(0,n.jsx)(o,{tx:e,onClick:e=>h(e)},e.id))]}),(0,n.jsx)(x,{open:!!k,tx:k,onClose:()=>h(null)})]})})}},6189:function(e,t,s){"use strict";s.d(t,{Z:function(){return h}});var n=s(7437),r=s(9376),a=s(2097),i=s(5466),l=s(5805),o=s(7414),d=s(6439),c=s(1621),u=s(2489),x=s(6840),p=s(7692),m=s(2265);function h(e){var t;let{children:s}=e,h=(0,r.useRouter)(),g=(0,r.usePathname)(),{user:f,logout:b}=(0,a.t)(),[v,j]=(0,m.useState)(!1),y=[{icon:i.Z,label:"Dashboard",path:"/admin/dashboard"},{icon:l.Z,label:"Users",path:"/admin/users"},{icon:o.Z,label:"Vouchers",path:"/admin/vouchers"},{icon:d.Z,label:"Announcements",path:"/admin/announcements"},{icon:c.Z,label:"Transactions",path:"/admin/transactions"}];return(0,n.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,n.jsx)("header",{className:"lg:hidden bg-white border-b border-neutral-200 sticky top-0 z-30",children:(0,n.jsxs)("div",{className:"flex items-center justify-between px-4 py-3",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("div",{className:"w-8 h-8 bg-brand-primary rounded flex items-center justify-center text-white font-bold text-sm",children:"S"}),(0,n.jsx)("h1",{className:"font-ui text-body font-semibold text-neutral-900",children:"Sarnies Admin"})]}),(0,n.jsx)("button",{onClick:()=>j(!v),className:"p-2 hover:bg-neutral-50 rounded transition-all duration-150",children:v?(0,n.jsx)(u.Z,{size:20}):(0,n.jsx)(x.Z,{size:20})})]})}),(0,n.jsxs)("aside",{className:"fixed top-0 left-0 h-screen w-60 bg-white border-r border-[#E5E7EB] transition-transform duration-300 z-40 ".concat(v?"translate-x-0":"-translate-x-full"," lg:translate-x-0 flex flex-col"),children:[(0,n.jsx)("div",{className:"pl-5 pt-6 pb-4 border-b border-[#E5E7EB]",children:(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("div",{className:"w-12 h-12 flex-shrink-0 rounded-lg bg-brand-primary flex items-center justify-center",children:(0,n.jsx)("span",{className:"text-lg font-bold text-white",children:"S"})}),(0,n.jsx)("span",{className:"font-ui text-base font-medium text-[#1B1B1B]",children:"Sarnies Admin"})]})}),(0,n.jsx)("div",{className:"pl-5 py-4 border-b border-[#E5E7EB]",children:(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("div",{className:"w-8 h-8 flex-shrink-0 rounded-full bg-[#F5F5F5] flex items-center justify-center",children:(0,n.jsx)("span",{className:"text-xs font-semibold text-[#1B1B1B]",children:(null==f?void 0:null===(t=f.name)||void 0===t?void 0:t.charAt(0))||"D"})}),(0,n.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,n.jsx)("p",{className:"font-ui text-sm font-medium text-[#1B1B1B] truncate",title:(null==f?void 0:f.name)||"Dev User",children:(null==f?void 0:f.name)||"Dev User"}),(0,n.jsx)("p",{className:"font-ui text-xs text-[#6F6F6F]",children:"Administrator"})]})]})}),(0,n.jsx)("nav",{className:"flex-1 overflow-y-auto pl-5 py-4",children:(0,n.jsx)("div",{className:"space-y-1",children:y.map(e=>{let t=e.icon,s=g===e.path;return(0,n.jsxs)("button",{onClick:()=>{h.push(e.path),j(!1)},className:"w-full h-11 flex items-center gap-3 pr-3 rounded-lg font-ui text-sm font-medium transition-colors ".concat(s?"bg-[#F5F5F5] text-[#1B1B1B]":"text-[#6F6F6F] hover:bg-[#F5F5F5] hover:text-[#1B1B1B]"),children:[(0,n.jsx)(t,{className:"w-5 h-5 flex-shrink-0",strokeWidth:1.5}),(0,n.jsx)("span",{children:e.label})]},e.path)})})}),(0,n.jsx)("div",{className:"pl-5 pb-5 border-t border-[#E5E7EB] pt-4",children:(0,n.jsxs)("button",{onClick:()=>{b(),h.push("/login")},className:"w-full h-11 flex items-center gap-3 pr-3 text-[#6F6F6F] hover:bg-red-50 hover:text-red-600 rounded-lg font-ui text-sm font-medium transition-colors",children:[(0,n.jsx)(p.Z,{className:"w-5 h-5 flex-shrink-0",strokeWidth:1.5}),(0,n.jsx)("span",{children:"Logout"})]})})]}),v&&(0,n.jsx)("div",{className:"fixed inset-0 bg-black/50 z-30 lg:hidden",onClick:()=>j(!1)}),(0,n.jsx)("main",{className:"lg:ml-60 min-h-screen bg-white",children:s})]})}},7606:function(e,t,s){"use strict";s.d(t,{P:function(){return r}});var n=s(7437);s(2265);let r=e=>{let{initials:t,size:s=32}=e;return(0,n.jsx)("div",{className:"flex-shrink-0 rounded-full bg-gradient-to-br from-gray-200 to-gray-100 flex items-center justify-center border border-gray-300 shadow-sm transition-all duration-100 hover:shadow-md",style:{width:s,height:s},children:(0,n.jsx)("span",{className:"font-bold text-gray-700",style:{fontSize:.375*s},children:t})})}},9379:function(e,t,s){"use strict";s.d(t,{C:function(){return a}});var n=s(7437);s(2265);let r={neutral:"bg-gradient-to-r from-gray-100 to-gray-50 text-gray-800 border border-gray-200",freeItem:"bg-gradient-to-r from-blue-50 to-indigo-50 text-blue-700 border border-blue-200",discount:"bg-gradient-to-r from-yellow-50 to-amber-50 text-yellow-700 border border-yellow-200",promotion:"bg-gradient-to-r from-green-50 to-emerald-50 text-green-700 border border-green-200",featured:"bg-gradient-to-r from-amber-100 to-yellow-100 text-amber-700 border border-amber-300 shadow-sm",statusActive:"",statusInactive:"",default:"bg-gradient-to-r from-gray-100 to-gray-50 text-gray-700 border border-gray-200",primary:"bg-gradient-to-r from-blue-50 to-indigo-50 text-blue-700 border border-blue-200",success:"bg-gradient-to-r from-green-50 to-emerald-50 text-green-700 border border-green-200",warning:"bg-gradient-to-r from-yellow-50 to-amber-50 text-yellow-700 border border-yellow-200",danger:"bg-gradient-to-r from-red-50 to-rose-50 text-red-700 border border-red-200",info:"bg-gradient-to-r from-blue-50 to-cyan-50 text-blue-700 border border-blue-200"},a=e=>{let{label:t,children:s,variant:a="neutral",className:i=""}=e,l=t||s;if("statusActive"===a||"statusInactive"===a){let e="statusActive"===a;return(0,n.jsxs)("span",{className:"inline-flex items-center text-sm font-semibold ".concat(i),children:[(0,n.jsx)("span",{className:"inline-block w-2 h-2 rounded-full mr-2 transition-all duration-100 ".concat(e?"bg-green-500 shadow-sm shadow-green-300":"bg-gray-300")}),(0,n.jsx)("span",{className:e?"text-gray-900":"text-gray-500",children:l})]})}return(0,n.jsx)("span",{className:"".concat("inline-flex items-center h-[22px] px-2.5 rounded-full text-xs font-semibold transition-all duration-100"," ").concat(r[a]," ").concat(i),children:l})}},9116:function(e,t,s){"use strict";s.d(t,{L2:function(){return l},Vj:function(){return d},Z1:function(){return p},cC:function(){return x},h3:function(){return a},hO:function(){return i},kv:function(){return r},nN:function(){return c},oZ:function(){return o},w2:function(){return u},xf:function(){return m}});let n=s(3464).Z.create({baseURL:"https://loyalty.sarnies.tech/api",headers:{"Content-Type":"application/json"},withCredentials:!0});n.interceptors.request.use(e=>{{let t=localStorage.getItem("auth-storage");if(t)try{let{state:s}=JSON.parse(t);(null==s?void 0:s.token)&&(e.headers.Authorization="Bearer ".concat(s.token))}catch(e){}}return e}),n.interceptors.response.use(e=>e,e=>{var t,s,n;if((null===(t=e.response)||void 0===t?void 0:t.status)===401){let t=window.location.pathname.includes("/login"),r=null===(n=e.config)||void 0===n?void 0:null===(s=n.url)||void 0===s?void 0:s.includes("/auth/"),a=localStorage.getItem("auth-storage");t||r||!a||(localStorage.removeItem("auth-storage"),window.location.href="/login")}return Promise.reject(e)}),t.ZP=n;let r={staffLogin:(e,t)=>n.post("/auth/login",{email:e,password:t}),sendOTP:e=>n.post("/auth/otp/send",{phone:e}),verifyOTP:(e,t)=>n.post("/auth/otp/verify",{phone:e,otp:t}),sendEmailOTP:e=>n.post("/auth/otp/email/send",{email:e}),verifyEmailOTP:(e,t)=>n.post("/auth/otp/email/verify",{email:e,otp:t}),sendMagicLink:e=>n.post("/auth/magic-link/send",{email:e}),verifyMagicLink:e=>n.get("/auth/magic-link/verify/".concat(e))},a={getAll:e=>n.get("/users",{params:e}),getOne:e=>n.get("/users/".concat(e)),update:(e,t)=>n.put("/users/".concat(e),t),adjustPoints:(e,t,s)=>n.post("/users/".concat(e,"/points"),{points:t,reason:s}),getStaticQR:e=>n.get("/users/".concat(e,"/static-qr")),getVoucherInstances:(e,t)=>n.get("/users/".concat(e,"/voucher-instances"),{params:t?{status:t}:void 0})},i={getAll:()=>n.get("/vouchers"),getAllAdmin:()=>n.get("/vouchers/all"),getOne:e=>n.get("/vouchers/".concat(e)),create:e=>n.post("/vouchers",e),update:(e,t)=>n.patch("/vouchers/".concat(e),t),delete:e=>n.delete("/vouchers/".concat(e)),redeem:(e,t)=>n.post("/vouchers/".concat(e,"/redeem"),{user_id:t}),getInstances:(e,t)=>n.get("/vouchers/instances/".concat(e),{params:{status:t}})},l={earnPoints:(e,t,s)=>n.post("/transactions/earn",{user_id:e,amount:t,outlet:s}),redeemVoucher:(e,t,s)=>n.post("/transactions/redeem",{user_id:e,voucher_id:t,outlet:s}),getAll:e=>n.get("/transactions",{params:e})},o={getAll:e=>n.get("/announcements",{params:{user_type:e}}),getAllAdmin:()=>n.get("/announcements/all"),getById:e=>n.get("/announcements/".concat(e)),create:e=>n.post("/announcements",e),update:(e,t)=>n.patch("/announcements/".concat(e),t),delete:e=>n.delete("/announcements/".concat(e))},d={getCredits:()=>n.get("/investors/credits"),getOutletCredits:e=>n.get("/investors/credits/outlet/".concat(e)),getTransactions:e=>n.get("/investors/transactions",{params:e}),allocateOutletCredits:(e,t)=>n.post("/investors/admin/".concat(e,"/outlet-credits"),t),allocateGroupCredits:(e,t)=>n.post("/investors/admin/".concat(e,"/group-credits"),t),adjustCredits:(e,t)=>n.patch("/investors/admin/".concat(e,"/credits/adjust"),t),getExpiringCredits:e=>n.get("/investors/admin/credits/expiring",{params:e?{days:e}:void 0})},c={getBudget:()=>n.get("/media/budget"),getTransactions:e=>n.get("/media/transactions",{params:e}),setBudget:(e,t)=>n.post("/media/admin/".concat(e,"/budget"),t),adjustBudget:(e,t)=>n.patch("/media/admin/".concat(e,"/budget/adjust"),t),getExpiringBudgets:e=>n.get("/media/admin/budgets/expiring",{params:e?{days:e}:void 0}),getUsageReport:()=>n.get("/media/admin/usage-report")},u={getAll:()=>n.get("/settings"),getOne:e=>n.get("/settings/".concat(e)),update:(e,t)=>n.put("/settings/".concat(e),{value:t}),bulkUpdate:e=>n.put("/settings",{settings:e}),create:e=>n.post("/settings",e)},x={getVapidKey:()=>n.get("/notifications/vapid-public-key"),subscribe:e=>n.post("/notifications/subscribe",{subscription:e.toJSON()}),unsubscribe:e=>n.post("/notifications/unsubscribe",{endpoint:e}),getStatus:()=>n.get("/notifications/status"),getPreferences:()=>n.get("/notifications/preferences"),updatePreferences:e=>n.patch("/notifications/preferences",{preferences:e}),sendTest:()=>n.post("/notifications/test"),getHistory:e=>n.get("/notifications/history",{params:e}),adminSend:e=>n.post("/notifications/admin/send",e),adminBroadcast:e=>n.post("/notifications/admin/broadcast",e),adminStats:()=>n.get("/notifications/admin/stats"),adminProcessQueue:()=>n.post("/notifications/admin/process-queue")},p={getMyCode:()=>n.get("/referrals/my-code"),getMyReferrals:()=>n.get("/referrals/my-referrals"),validateCode:e=>n.get("/referrals/validate/".concat(e)),applyCode:e=>n.post("/referrals/apply",e),getAdminStats:()=>n.get("/referrals/admin/stats")},m={getAll:()=>n.get("/pos/keys"),create:e=>n.post("/pos/keys",e),revoke:e=>n.delete("/pos/keys/".concat(e)),getLogs:(e,t)=>n.get("/pos/keys/".concat(e,"/logs"),{params:t}),getStats:()=>n.get("/pos/keys/stats")}},2097:function(e,t,s){"use strict";s.d(t,{t:function(){return a}});var n=s(9625),r=s(6885);let a=(0,n.Ue)()((0,r.tJ)(e=>({user:null,token:null,hasHydrated:!1,setAuth:(t,s)=>{e({user:t,token:s})},logout:()=>{e({user:null,token:null})},updateUser:t=>{e(e=>e.user?{user:{...e.user,...t}}:e)},setHasHydrated:t=>{e({hasHydrated:t})}}),{name:"auth-storage",storage:(0,r.FL)(()=>localStorage),onRehydrateStorage:()=>e=>{null==e||e.setHasHydrated(!0)}}))},7414:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9763).Z)("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]])},5466:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9763).Z)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]])},7692:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9763).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},6439:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9763).Z)("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]])},6840:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9763).Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},1621:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9763).Z)("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]])},3247:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9763).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},5805:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9763).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},2489:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9763).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])}},function(e){e.O(0,[1299,3464,368,2971,2117,1744],function(){return e(e.s=1893)}),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9458],{7638:function(e,t,r){Promise.resolve().then(r.bind(r,3826))},3826:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return w}});var n=r(7437),a=r(2265),s=r(6189),l=r(9397),i=r(3247),o=r(6439);let c=(0,r(9763).Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);var d=r(2208),u=r(8893),x=r(8930),p=r(9116),m=r(9064),h=r(8516),g=r(2489),f=r(6901),b=r(2252),v=r(5805),y=r(1047),j=r(3229);function N(e){var t;let{announcement:r,onSubmit:s,onCancel:l,isSubmitting:i}=e,[c,d]=(0,a.useState)({title:(null==r?void 0:r.title)||"",description:(null==r?void 0:r.description)||"",announcement_type:(null==r?void 0:r.announcement_type)||"news",image_url:(null==r?void 0:r.image_url)||"",cta_text:(null==r?void 0:r.cta_text)||"",cta_link:(null==r?void 0:r.cta_link)||"",is_active:null===(t=null==r?void 0:r.is_active)||void 0===t||t,display_order:(null==r?void 0:r.display_order)||0,target_user_types:(null==r?void 0:r.target_user_types)||["customer","employee"],start_date:(null==r?void 0:r.start_date)?r.start_date.split("T")[0]:"",end_date:(null==r?void 0:r.end_date)?r.end_date.split("T")[0]:""}),[u,x]=(0,a.useState)({}),[p,m]=(0,a.useState)({}),N=(e,t)=>{switch(e){case"title":if(!t||0===t.trim().length)return"Title is required";if(t.length<3)return"Title must be at least 3 characters";if(t.length>200)return"Title must be less than 200 characters";break;case"display_order":if(""!==t&&t<0)return"Display order must be non-negative"}return""},w=(e,t)=>{if(d({...c,[e]:t}),p[e]){let r=N(e,t);x({...u,[e]:r})}},k=e=>{m({...p,[e]:!0});let t=N(e,c[e]);x({...u,[e]:t})},_=c.title.length>=3;return(0,n.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto bg-black/40 backdrop-blur-sm flex items-start justify-center p-6 animate-in fade-in duration-200",children:(0,n.jsx)("div",{className:"w-full max-w-2xl my-8 animate-in slide-in-from-bottom-4 duration-300",children:(0,n.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl border border-border-subtle overflow-hidden",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-border-subtle bg-gradient-to-b from-background-subtle to-white",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("div",{className:"w-10 h-10 rounded-xl bg-purple-500 flex items-center justify-center shadow-sm",children:(0,n.jsx)(o.Z,{size:20,className:"text-white"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"font-display text-display-md text-text-primary tracking-tight",children:r?"Edit Announcement":"Create Announcement"}),(0,n.jsx)("p",{className:"font-ui text-ui-xs text-text-secondary mt-0.5",children:r?"Update announcement details":"Share news with your users"})]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-white rounded-lg border border-border-subtle shadow-sm",children:[(0,n.jsx)("span",{className:"font-ui text-ui-xs text-text-secondary",children:"Status"}),(0,n.jsx)("button",{type:"button",onClick:()=>d({...c,is_active:!c.is_active}),className:"relative inline-flex h-4 w-7 items-center rounded-full transition-all duration-200 ".concat(c.is_active?"bg-success-500":"bg-gray-300"),children:(0,n.jsx)("span",{className:"inline-block h-3 w-3 transform rounded-full bg-white transition-transform duration-200 shadow-sm ".concat(c.is_active?"translate-x-4":"translate-x-0.5")})}),(0,n.jsx)("span",{className:"font-ui text-ui-xs font-semibold ".concat(c.is_active?"text-success-600":"text-text-tertiary"),children:c.is_active?"Active":"Draft"})]}),(0,n.jsx)("button",{type:"button",onClick:l,className:"p-2 hover:bg-background-hover rounded-lg transition-colors group",children:(0,n.jsx)(g.Z,{size:18,className:"text-text-secondary group-hover:text-text-primary transition-colors"})})]})]}),(0,n.jsxs)("form",{onSubmit:e=>{e.preventDefault(),s(c)},className:"p-5 space-y-5 max-h-[calc(100vh-10rem)] overflow-y-auto",children:[(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2.5",children:[(0,n.jsx)("div",{className:"w-7 h-7 rounded-lg bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center",children:(0,n.jsx)(o.Z,{size:16,className:"text-white",strokeWidth:2.5})}),(0,n.jsx)("h3",{className:"font-display text-[15px] font-bold text-text-primary leading-none",children:"Basic Information"})]}),(0,n.jsxs)("div",{className:"space-y-3 pl-9",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{className:"flex items-center justify-between font-ui text-[12px] font-semibold text-text-primary mb-1.5 leading-tight",children:[(0,n.jsxs)("span",{children:["Title ",(0,n.jsx)("span",{className:"text-danger-500",children:"*"})]}),p.title&&!u.title&&c.title&&(0,n.jsxs)("span",{className:"text-[11px] text-success-600 flex items-center gap-1 leading-none",children:[(0,n.jsx)(f.Z,{size:12,strokeWidth:2.5})," Looks great"]})]}),(0,n.jsx)("input",{type:"text",className:"w-full px-3 py-2 border rounded-lg font-ui text-[13px] text-text-primary placeholder-text-secondary focus:outline-none focus:ring-1 transition-all leading-tight ".concat(u.title&&p.title?"border-danger-500 focus:ring-danger-500/20 focus:border-danger-500":"border-border-subtle focus:ring-purple-500/20 focus:border-purple-500"),value:c.title,onChange:e=>w("title",e.target.value),onBlur:()=>k("title"),placeholder:"e.g., New Menu Items Available",required:!0}),u.title&&p.title&&(0,n.jsxs)("p",{className:"font-ui text-[11px] text-danger-600 mt-1 flex items-center gap-1 leading-tight",children:[(0,n.jsx)(b.Z,{size:11,strokeWidth:2.5})," ",u.title]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block font-ui text-[12px] font-medium text-text-primary mb-1.5 leading-tight",children:"Description"}),(0,n.jsx)("textarea",{className:"w-full px-3 py-2 border border-border-subtle rounded-lg font-ui text-[13px] text-text-primary placeholder-text-secondary focus:outline-none focus:ring-1 focus:ring-purple-500/20 focus:border-purple-500 transition-all leading-tight resize-none",rows:3,value:c.description,onChange:e=>w("description",e.target.value),placeholder:"Describe the announcement..."})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block font-ui text-[12px] font-medium text-text-primary mb-1.5 leading-tight",children:"Type"}),(0,n.jsxs)("select",{className:"w-full px-3 py-2 border border-border-subtle rounded-lg font-ui text-[13px] text-text-primary focus:outline-none focus:ring-1 focus:ring-purple-500/20 focus:border-purple-500 transition-all bg-white leading-tight",value:c.announcement_type,onChange:e=>w("announcement_type",e.target.value),children:[(0,n.jsx)("option",{value:"news",children:"News"}),(0,n.jsx)("option",{value:"promotion",children:"Promotion"}),(0,n.jsx)("option",{value:"event",children:"Event"}),(0,n.jsx)("option",{value:"alert",children:"Alert"}),(0,n.jsx)("option",{value:"update",children:"Update"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block font-ui text-[12px] font-medium text-text-primary mb-1.5 leading-tight",children:"Display Order"}),(0,n.jsx)("input",{type:"number",min:"0",className:"w-full px-3 py-2 border border-border-subtle rounded-lg font-ui text-[13px] text-text-primary placeholder-text-secondary focus:outline-none focus:ring-1 focus:ring-purple-500/20 focus:border-purple-500 transition-all leading-tight",value:c.display_order,onChange:e=>w("display_order",e.target.value),placeholder:"0"}),(0,n.jsx)("p",{className:"font-ui text-[10px] text-text-tertiary mt-1 leading-tight",children:"Lower numbers appear first"})]})]}),(0,n.jsx)("div",{children:(0,n.jsx)(h.Z,{label:"Announcement Image",value:c.image_url,onChange:e=>w("image_url",e),onRemove:()=>w("image_url","")})})]})]}),(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2.5",children:[(0,n.jsx)("div",{className:"w-7 h-7 rounded-lg bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center",children:(0,n.jsx)(v.Z,{size:16,className:"text-white",strokeWidth:2.5})}),(0,n.jsx)("h3",{className:"font-display text-[15px] font-bold text-text-primary leading-none",children:"Call to Action"}),(0,n.jsx)("span",{className:"font-ui text-[11px] text-text-tertiary",children:"(optional)"})]}),(0,n.jsx)("div",{className:"space-y-3 pl-9",children:(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block font-ui text-[12px] font-medium text-text-primary mb-1.5 leading-tight",children:"Button Text"}),(0,n.jsx)("input",{type:"text",className:"w-full px-3 py-2 border border-border-subtle rounded-lg font-ui text-[13px] text-text-primary placeholder-text-secondary focus:outline-none focus:ring-1 focus:ring-purple-500/20 focus:border-purple-500 transition-all leading-tight",value:c.cta_text,onChange:e=>w("cta_text",e.target.value),placeholder:"Learn More"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block font-ui text-[12px] font-medium text-text-primary mb-1.5 leading-tight",children:"Button Link"}),(0,n.jsx)("input",{type:"url",className:"w-full px-3 py-2 border border-border-subtle rounded-lg font-ui text-[13px] text-text-primary placeholder-text-secondary focus:outline-none focus:ring-1 focus:ring-purple-500/20 focus:border-purple-500 transition-all leading-tight",value:c.cta_link,onChange:e=>w("cta_link",e.target.value),placeholder:"https://..."})]})]})})]}),(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2.5",children:[(0,n.jsx)("div",{className:"w-7 h-7 rounded-lg bg-gradient-to-br from-green-500 to-green-600 flex items-center justify-center",children:(0,n.jsx)(y.Z,{size:16,className:"text-white",strokeWidth:2.5})}),(0,n.jsx)("h3",{className:"font-display text-[15px] font-bold text-text-primary leading-none",children:"Targeting & Schedule"})]}),(0,n.jsxs)("div",{className:"space-y-3 pl-9",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block font-ui text-[12px] font-semibold text-text-primary mb-1.5 leading-tight",children:"Who can see this?"}),(0,n.jsx)("div",{className:"grid grid-cols-4 gap-2",children:[{value:"customer",label:"Customers"},{value:"employee",label:"Staff"},{value:"investor",label:"Investors"},{value:"media",label:"Media"}].map(e=>{let t=c.target_user_types.includes(e.value);return(0,n.jsx)("button",{type:"button",onClick:()=>{t?w("target_user_types",c.target_user_types.filter(t=>t!==e.value)):w("target_user_types",[...c.target_user_types,e.value])},className:"px-2 py-2.5 rounded-lg border transition-all font-ui text-[11px] font-semibold ".concat(t?"border-purple-500 bg-purple-50 text-purple-700":"border-border-subtle bg-white text-text-secondary hover:border-purple-300"),children:e.label},e.value)})})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{className:"block font-ui text-[12px] font-medium text-text-primary mb-1.5 leading-tight",children:["Start Date ",(0,n.jsx)("span",{className:"font-ui text-[11px] text-text-tertiary",children:"(optional)"})]}),(0,n.jsx)("input",{type:"date",className:"w-full px-3 py-2 border border-border-subtle rounded-lg font-ui text-[12px] text-text-primary focus:outline-none focus:ring-1 focus:ring-purple-500/20 focus:border-purple-500 transition-all leading-tight",value:c.start_date,onChange:e=>w("start_date",e.target.value)})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{className:"block font-ui text-[12px] font-medium text-text-primary mb-1.5 leading-tight",children:["End Date ",(0,n.jsx)("span",{className:"font-ui text-[11px] text-text-tertiary",children:"(optional)"})]}),(0,n.jsx)("input",{type:"date",className:"w-full px-3 py-2 border border-border-subtle rounded-lg font-ui text-[12px] text-text-primary focus:outline-none focus:ring-1 focus:ring-purple-500/20 focus:border-purple-500 transition-all leading-tight",value:c.end_date,onChange:e=>w("end_date",e.target.value)})]})]})]})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-border-subtle -mx-5 px-5 pb-1 mt-5",children:[(0,n.jsx)("div",{className:"flex items-center gap-1.5",children:_?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(f.Z,{size:14,strokeWidth:2.5,className:"text-success-500"}),(0,n.jsx)("span",{className:"font-ui text-[11px] text-success-600 font-semibold leading-tight",children:"Ready"})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(b.Z,{size:14,strokeWidth:2,className:"text-warning-500"}),(0,n.jsx)("span",{className:"font-ui text-[11px] text-text-secondary leading-tight",children:"Required fields missing"})]})}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("button",{type:"button",onClick:l,disabled:i,className:"px-4 py-2 font-ui text-[13px] font-semibold text-text-secondary hover:text-text-primary hover:bg-background-hover rounded-lg transition-all disabled:opacity-50 leading-none",children:"Cancel"}),(0,n.jsx)("button",{type:"submit",disabled:!_||i,className:"px-4 py-2 bg-purple-600 text-white font-ui text-[13px] font-bold rounded-lg hover:bg-purple-700 transition-all shadow-sm disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 leading-none",children:i?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"w-3.5 h-3.5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Saving..."]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(j.Z,{size:14,strokeWidth:2}),r?"Update":"Create"]})})]})]})]})]})})})}function w(){let[e,t]=(0,a.useState)([]),[r,h]=(0,a.useState)(!0),[g,f]=(0,a.useState)(""),[b,v]=(0,a.useState)("all"),[y,j]=(0,a.useState)("all"),[w,k]=(0,a.useState)(!1),[_,Z]=(0,a.useState)(!1),[C,S]=(0,a.useState)(null),[z,P]=(0,a.useState)(!1);(0,a.useEffect)(()=>{A()},[]);let A=async()=>{h(!0);try{let e=await p.oZ.getAllAdmin();t(e.data||[])}catch(e){m.ZP.error("Failed to load announcements")}finally{h(!1)}},D=async e=>{P(!0);try{await p.oZ.create(e),m.ZP.success("Announcement created successfully"),k(!1),A()}catch(e){var t,r;m.ZP.error((null===(r=e.response)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.error)||"Failed to create announcement")}finally{P(!1)}},T=e=>{S(e),Z(!0)},M=async e=>{if(C){P(!0);try{await p.oZ.update(C.id,e),m.ZP.success("Announcement updated successfully"),Z(!1),S(null),A()}catch(e){var t,r;m.ZP.error((null===(r=e.response)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.error)||"Failed to update announcement")}finally{P(!1)}}},E=async e=>{try{await p.oZ.update(e.id,{is_active:!e.is_active}),m.ZP.success("Announcement ".concat(e.is_active?"deactivated":"activated")),A()}catch(e){var t,r;m.ZP.error((null===(r=e.response)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.error)||"Failed to update announcement")}},F=async e=>{if(confirm("Are you sure you want to delete this announcement? This action cannot be undone."))try{await p.oZ.delete(e),m.ZP.success("Announcement deleted successfully"),A()}catch(e){var t,r;m.ZP.error((null===(r=e.response)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.error)||"Failed to delete announcement")}},L=(0,a.useMemo)(()=>e.filter(e=>{let t=e.title.toLowerCase().includes(g.toLowerCase())||e.description&&e.description.toLowerCase().includes(g.toLowerCase()),r="all"===b||e.announcement_type===b,n="all"===y||"active"===y&&e.is_active||"inactive"===y&&!e.is_active;return t&&r&&n}),[e,g,b,y]),I=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"â€”",W=e=>({news:"bg-blue-100 text-blue-700",promotion:"bg-green-100 text-green-700",event:"bg-purple-100 text-purple-700",alert:"bg-red-100 text-red-700",update:"bg-orange-100 text-orange-700"})[e]||"bg-gray-100 text-gray-700";return(0,n.jsxs)(s.Z,{children:[(0,n.jsx)("div",{className:"min-h-screen bg-neutral-50",children:(0,n.jsxs)("div",{className:"max-w-[1600px] mx-auto px-4 py-6",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between gap-4 mb-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-[28px] font-semibold text-neutral-900",children:"Announcements"}),(0,n.jsxs)("p",{className:"text-[14px] text-neutral-500",children:[e.length," total announcements"]})]}),(0,n.jsxs)("button",{type:"button",onClick:()=>k(!0),className:"h-[40px] px-4 rounded-lg border border-neutral-900 bg-neutral-900 text-white text-[14px] font-medium flex items-center gap-2 hover:bg-neutral-800 transition-colors",children:[(0,n.jsx)(l.Z,{size:18}),"Create Announcement"]})]}),(0,n.jsx)("div",{className:"bg-white rounded-xl border border-neutral-200 p-4 mb-6",children:(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsxs)("div",{className:"flex-1 relative",children:[(0,n.jsx)(i.Z,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-neutral-400"}),(0,n.jsx)("input",{type:"text",placeholder:"Search announcements...",className:"w-full pl-10 pr-4 py-2 border border-neutral-200 rounded-lg text-[14px] focus:outline-none focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500",value:g,onChange:e=>f(e.target.value)})]}),(0,n.jsxs)("select",{className:"px-3 py-2 border border-neutral-200 rounded-lg text-[14px] focus:outline-none focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 bg-white",value:b,onChange:e=>v(e.target.value),children:[(0,n.jsx)("option",{value:"all",children:"All Types"}),(0,n.jsx)("option",{value:"news",children:"News"}),(0,n.jsx)("option",{value:"promotion",children:"Promotion"}),(0,n.jsx)("option",{value:"event",children:"Event"}),(0,n.jsx)("option",{value:"alert",children:"Alert"}),(0,n.jsx)("option",{value:"update",children:"Update"})]}),(0,n.jsxs)("select",{className:"px-3 py-2 border border-neutral-200 rounded-lg text-[14px] focus:outline-none focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 bg-white",value:y,onChange:e=>j(e.target.value),children:[(0,n.jsx)("option",{value:"all",children:"All Status"}),(0,n.jsx)("option",{value:"active",children:"Active"}),(0,n.jsx)("option",{value:"inactive",children:"Inactive"})]})]})}),(0,n.jsx)("div",{className:"bg-white rounded-xl border border-neutral-200 overflow-hidden",children:r?(0,n.jsxs)("div",{className:"p-12 text-center",children:[(0,n.jsx)("div",{className:"w-8 h-8 border-2 border-neutral-200 border-t-neutral-900 rounded-full animate-spin mx-auto"}),(0,n.jsx)("p",{className:"mt-4 text-[14px] text-neutral-500",children:"Loading announcements..."})]}):0===L.length?(0,n.jsxs)("div",{className:"p-12 text-center",children:[(0,n.jsx)(o.Z,{size:48,className:"mx-auto text-neutral-300 mb-4"}),(0,n.jsx)("h3",{className:"text-[16px] font-semibold text-neutral-900 mb-1",children:"No announcements found"}),(0,n.jsx)("p",{className:"text-[14px] text-neutral-500",children:g||"all"!==b||"all"!==y?"Try adjusting your filters":"Create your first announcement to get started"})]}):(0,n.jsx)("div",{className:"overflow-x-auto",children:(0,n.jsxs)("table",{className:"w-full",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{className:"border-b border-neutral-200 bg-neutral-50",children:[(0,n.jsx)("th",{className:"px-4 py-3 text-left text-[12px] font-semibold text-neutral-600 uppercase tracking-wide",children:"Title"}),(0,n.jsx)("th",{className:"px-4 py-3 text-left text-[12px] font-semibold text-neutral-600 uppercase tracking-wide",children:"Type"}),(0,n.jsx)("th",{className:"px-4 py-3 text-left text-[12px] font-semibold text-neutral-600 uppercase tracking-wide",children:"Target"}),(0,n.jsx)("th",{className:"px-4 py-3 text-left text-[12px] font-semibold text-neutral-600 uppercase tracking-wide",children:"Start Date"}),(0,n.jsx)("th",{className:"px-4 py-3 text-left text-[12px] font-semibold text-neutral-600 uppercase tracking-wide",children:"End Date"}),(0,n.jsx)("th",{className:"px-4 py-3 text-left text-[12px] font-semibold text-neutral-600 uppercase tracking-wide",children:"Status"}),(0,n.jsx)("th",{className:"px-4 py-3 text-right text-[12px] font-semibold text-neutral-600 uppercase tracking-wide",children:"Actions"})]})}),(0,n.jsx)("tbody",{children:L.map(e=>(0,n.jsxs)("tr",{className:"border-b border-neutral-100 hover:bg-neutral-50 transition-colors",children:[(0,n.jsx)("td",{className:"px-4 py-3",children:(0,n.jsxs)("div",{className:"flex items-start gap-3",children:[e.image_url&&(0,n.jsx)("img",{src:e.image_url,alt:e.title,className:"w-12 h-12 rounded-lg object-cover flex-shrink-0"}),(0,n.jsxs)("div",{className:"min-w-0",children:[(0,n.jsx)("p",{className:"text-[14px] font-medium text-neutral-900 truncate",children:e.title}),e.description&&(0,n.jsx)("p",{className:"text-[12px] text-neutral-500 truncate mt-0.5",children:e.description})]})]})}),(0,n.jsx)("td",{className:"px-4 py-3",children:(0,n.jsx)("span",{className:"inline-block px-2 py-1 rounded-md text-[11px] font-semibold uppercase ".concat(W(e.announcement_type)),children:e.announcement_type})}),(0,n.jsx)("td",{className:"px-4 py-3",children:(0,n.jsx)("div",{className:"flex flex-wrap gap-1",children:(e.target_user_types||[]).map(e=>(0,n.jsx)("span",{className:"px-1.5 py-0.5 bg-neutral-100 text-neutral-600 rounded text-[10px] font-medium",children:e},e))})}),(0,n.jsx)("td",{className:"px-4 py-3 text-[13px] text-neutral-600",children:I(e.start_date)}),(0,n.jsx)("td",{className:"px-4 py-3 text-[13px] text-neutral-600",children:I(e.end_date)}),(0,n.jsx)("td",{className:"px-4 py-3",children:(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(e.is_active?"bg-green-500":"bg-gray-300")}),(0,n.jsx)("span",{className:"text-[13px] font-medium ".concat(e.is_active?"text-green-600":"text-gray-500"),children:e.is_active?"Active":"Inactive"})]})}),(0,n.jsx)("td",{className:"px-4 py-3",children:(0,n.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,n.jsx)("button",{onClick:()=>E(e),className:"p-1.5 hover:bg-neutral-100 rounded-lg transition-colors group",title:e.is_active?"Deactivate":"Activate",children:e.is_active?(0,n.jsx)(c,{size:16,className:"text-neutral-400 group-hover:text-neutral-600"}):(0,n.jsx)(d.Z,{size:16,className:"text-neutral-400 group-hover:text-green-600"})}),(0,n.jsx)("button",{onClick:()=>T(e),className:"p-1.5 hover:bg-neutral-100 rounded-lg transition-colors group",title:"Edit",children:(0,n.jsx)(u.Z,{size:16,className:"text-neutral-400 group-hover:text-blue-600"})}),(0,n.jsx)("button",{onClick:()=>F(e.id),className:"p-1.5 hover:bg-neutral-100 rounded-lg transition-colors group",title:"Delete",children:(0,n.jsx)(x.Z,{size:16,className:"text-neutral-400 group-hover:text-red-600"})})]})})]},e.id))})]})})})]})}),w&&(0,n.jsx)(N,{onSubmit:D,onCancel:()=>k(!1),isSubmitting:z}),_&&C&&(0,n.jsx)(N,{announcement:C,onSubmit:M,onCancel:()=>{Z(!1),S(null)},isSubmitting:z})]})}},8516:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var n=r(7437),a=r(2265),s=r(2489),l=r(5863),i=r(7689),o=r(9064),c=r(9116);function d(e){let{value:t,onChange:r,onRemove:d,label:u="Image",className:x=""}=e,[p,m]=(0,a.useState)(!1),[h,g]=(0,a.useState)(!1),f=(0,a.useRef)(null),b=async e=>{if(!["image/jpeg","image/jpg","image/png","image/webp","image/gif"].includes(e.type)){o.ZP.error("Invalid file type. Only JPG, PNG, WEBP, and GIF are allowed.");return}if(e.size>5242880){o.ZP.error("File size must be less than 5MB");return}m(!0);try{let t=new FormData;t.append("image",e);let n=await c.ZP.post("/upload",t,{headers:{"Content-Type":"multipart/form-data"}});r(n.data.url),o.ZP.success("Image uploaded successfully")}catch(e){var t,n;o.ZP.error((null===(n=e.response)||void 0===n?void 0:null===(t=n.data)||void 0===t?void 0:t.error)||"Failed to upload image")}finally{m(!1)}};return(0,n.jsxs)("div",{className:x,children:[u&&(0,n.jsx)("label",{className:"block font-ui text-[12px] font-medium text-text-primary mb-1.5 leading-tight",children:u}),(0,n.jsx)("input",{ref:f,type:"file",accept:"image/*",onChange:e=>{let t=e.target.files;t&&t[0]&&b(t[0])},className:"hidden"}),t?(0,n.jsxs)("div",{className:"relative group",children:[(0,n.jsx)("img",{src:t,alt:"Preview",className:"w-full h-48 object-cover rounded-lg border border-neutral-300"}),(0,n.jsx)("button",{type:"button",onClick:()=>{d?d():r("")},className:"absolute top-2 right-2 p-1.5 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600",title:"Remove image",children:(0,n.jsx)(s.Z,{size:16})})]}):(0,n.jsx)("div",{onDragEnter:e=>{e.preventDefault(),e.stopPropagation(),g(!0)},onDragLeave:e=>{e.preventDefault(),e.stopPropagation(),g(!1)},onDragOver:e=>{e.preventDefault(),e.stopPropagation()},onDrop:e=>{e.preventDefault(),e.stopPropagation(),g(!1);let t=e.dataTransfer.files;t&&t[0]&&b(t[0])},onClick:()=>{var e;return!p&&(null===(e=f.current)||void 0===e?void 0:e.click())},className:"\n            relative border-2 border-dashed rounded-lg p-8 text-center cursor-pointer\n            transition-colors\n            ".concat(h?"border-neutral-500 bg-neutral-50":"border-neutral-300 hover:border-neutral-400 hover:bg-neutral-50","\n            ").concat(p?"cursor-not-allowed opacity-60":"","\n          "),children:p?(0,n.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,n.jsx)(l.Z,{size:40,className:"text-neutral-400 animate-spin"}),(0,n.jsx)("p",{className:"text-[14px] text-neutral-600 font-medium",children:"Uploading..."})]}):(0,n.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,n.jsx)("div",{className:"w-12 h-12 rounded-full bg-neutral-100 flex items-center justify-center",children:(0,n.jsx)(i.Z,{size:24,className:"text-neutral-500"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-[14px] text-neutral-700 font-medium mb-1",children:"Click to upload or drag and drop"}),(0,n.jsx)("p",{className:"text-[12px] text-neutral-500",children:"JPG, PNG, WEBP, or GIF (max 5MB)"})]})]})})]})}},2252:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(9763).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},1047:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(9763).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},6901:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(9763).Z)("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},2208:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(9763).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},5863:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(9763).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},8893:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(9763).Z)("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]])},3229:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(9763).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},3247:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(9763).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},8930:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(9763).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},7689:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(9763).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])}},function(e){e.O(0,[1299,3464,368,5832,2971,2117,1744],function(){return e(e.s=7638)}),_N_E=e.O()}]);